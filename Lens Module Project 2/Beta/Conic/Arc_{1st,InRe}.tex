Arc_{1st,InRe}:
If(

    Angle(       
        Light1,
        
        Intersect(
            Segment(A,B),
            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
        ),

        A
    )
    <((π)/(2)) 
    
    ∧ 
    
    CircularArc(
        B,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
        
        Intersect(
            IntersectPath(
            
                If(
                Angle(            
                    Light1,

                    Intersect(
                        Segment(A,B),

                        Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                    ),

                    A
                )

                <((π)/(2)),
                
                Plane(B,Ray(Light1,Light2)),
                
                Angle(            
                    Light1,

                    Intersect(
                        Segment(A,B),

                        Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                    ),

                    A
                )

                >((π)/(2)),
                
                Plane(A,Ray(Light1,Light2))
                
                ),

            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
    
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )
            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    )
    
    <
    
    CircularArc(
        B,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β))
                
                )

                ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        Intersect(
            IntersectPath(
            
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
        
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    
    ),
    
    CircularArc(
        B,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
        
        Intersect(
            IntersectPath(
            
                If(
                Angle(            
                    Light1,

                    Intersect(
                        Segment(A,B),

                        Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                    ),

                    A
                )

                <((π)/(2)),
                
                Plane(B,Ray(Light1,Light2)),
                
                Angle(            
                    Light1,

                    Intersect(
                        Segment(A,B),

                        Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                    ),

                    A
                )

                >((π)/(2)),
                
                Plane(A,Ray(Light1,Light2))
                
                ),

            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
    
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    
    ),

    Angle(       
        Light1,
        
        Intersect(
            Segment(A,B),
            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
        ),

        A
    )
    <((π)/(2)) 
    
    ∧
    
    CircularArc(
        B,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        
        Intersect(
            IntersectPath(
            
                If(
                Angle(            
                    Light1,

                    Intersect(
                        Segment(A,B),

                        Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                    ),

                    A
                )

                <((π)/(2)),
                
                Plane(B,Ray(Light1,Light2)),
                
                Angle(            
                    Light1,

                    Intersect(
                        Segment(A,B),

                        Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                    ),

                    A
                )

                >((π)/(2)),
                
                Plane(A,Ray(Light1,Light2))
                
                ),

            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
    
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    
    )
    
    <
    
    CircularArc(
        B,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β))
                
                )

                ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
        Intersect(
            IntersectPath(
            
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    
    ),

    CircularArc(
        B,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        
        Intersect(
            IntersectPath(
            
                If(
                Angle(            
                    Light1,

                    Intersect(
                        Segment(A,B),

                        Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                    ),

                    A
                )

                <((π)/(2)),
                
                Plane(B,Ray(Light1,Light2)),
                
                Angle(            
                    Light1,

                    Intersect(
                        Segment(A,B),

                        Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                    ),

                    A
                )

                >((π)/(2)),
                
                Plane(A,Ray(Light1,Light2))
                
                ),

            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
    
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
        
    ),

    Angle(
    
        Light1,

        Intersect(
            Segment(A,B),
            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
        ),

        A
    )
    >((π)/(2)) 
    
    ∧
    
    CircularArc(
        A,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β))
                
                )

                ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
        Intersect(
            IntersectPath(
            
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )
            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    )
    
    <
    
    CircularArc(
        A,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β))
                
                )

                ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        Intersect(
            IntersectPath(
            
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
        if(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )
            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    ),

    CircularArc(
        A,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β))
                
                )

                ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
        Intersect(
            IntersectPath(
            
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )
            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    ),
    
    Angle(
        
        Light1,

        Intersect(
            Segment(A,B),
            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
        ),

        A
    )
    >((π)/(2)) 
    
    ∧
    
    CircularArc(
        A,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β))
                
                )

                ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        Intersect(
            IntersectPath(
            
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),        
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )
            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    )
    
    <
    
    CircularArc(
        A,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β))
                
                )

                ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
        Intersect(
            IntersectPath(
            
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2))
            
        )
    ),
    
    CircularArc(
        A,      
        Intersect(
            IntersectPath(       
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β))
                
                )

                ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            2
        ),
        Intersect(
            IntersectPath(
            
                If(
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    <((π)/(2)),
                    
                    Plane(B,Ray(Light1,Light2)),
                    
                    Angle(            
                        Light1,

                        Intersect(
                            Segment(A,B),

                            Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))
                        ),

                        A
                    )

                    >((π)/(2)),
                    
                    Plane(A,Ray(Light1,Light2))
                    
                ),

                Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

            ),

            IntersectConic(Sphere(A,α),Sphere(B,β)),

            1
        ),
        If(

            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )

            <((π)/(2)),
            
            Plane(B,Ray(Light1,Light2)),
            
            Angle(
            
                Light1,

                Intersect(

                    Segment(A,B),

                    Plane(IntersectConic(Sphere(A,α),Sphere(B,β)))

                ),

                A
            )
            >((π)/(2)),
            
            Plane(A,Ray(Light1,Light2)))
    )
    
)