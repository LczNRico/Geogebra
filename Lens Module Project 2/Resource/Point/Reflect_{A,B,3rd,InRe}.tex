Reflect_{A,B,3rd,InRe}=

    If(
        
        plzdtyA ∧ TIR_{2nd,InRe},
        
        Reflect(B,Incident_{3rd,TIR,InRe}),
        
        plzdtyB ∧ TIR_{2nd,InRe},
        
        Reflect(A,Incident_{3rd,TIR,InRe})
        
    )